<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Trainingspläne – Bavarian Rage</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0b0c; --fg:#f2f2f2; --muted:#bdbdbd;
  --rage:#C1121F; --gold:#D4AF37; --line:#1e1e20; --card:#131315;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box} html,body{margin:0} body{background:var(--bg);color:var(--fg);font:16px/1.6 "Inter",system-ui}
.container{max-width:1100px;margin:0 auto;padding:0 20px}
header{position:sticky;top:0;z-index:10;background:rgba(0,0,0,.6);backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--line)}
.head{display:flex;justify-content:space-between;align-items:center;padding:14px 0}
.brand{display:flex;align-items:center;gap:10px}
.brand .mark{height:36px;width:36px;border:2px solid var(--rage);border-radius:50%;display:grid;place-items:center}
.brand .mark span{color:var(--gold);font-weight:900;font-size:.85rem}
nav a{color:var(--muted);text-decoration:none;margin:0 10px;font-weight:600}
nav a:hover{color:#fff}

.btn{display:inline-block;padding:12px 18px;border-radius:14px;text-decoration:none;font-weight:800;letter-spacing:.2px;transition:.25s;cursor:pointer}
.btn-primary{background:linear-gradient(90deg,var(--rage),#ff3a3a);border:1px solid #ff5656;color:#fff;box-shadow:0 6px 16px rgba(193,18,31,.35)}
.btn-primary:hover{transform:translateY(-2px)}
.btn-ghost{border:1px solid var(--gold);color:var(--gold);background:linear-gradient(180deg,rgba(212,175,55,.12),rgba(212,175,55,.04))}
.btn-ghost:hover{filter:brightness(1.1);transform:translateY(-2px)}

.hero{padding:64px 0;border-bottom:1px solid var(--line)}
.hero h1{font-size:clamp(42px,6vw,68px);margin:0;font-weight:900}
.hero p{color:var(--muted);max-width:720px;margin:10px 0 18px}

.grid{display:grid;gap:18px}.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);overflow:hidden;transition:.25s}
.card:hover{transform:translateY(-4px)}
.thumb{height:200px;position:relative;overflow:hidden;border-bottom:1px solid var(--line)}
.thumb img{width:100%;height:100%;object-fit:cover;transition:transform .6s}
.card:hover .thumb img{transform:scale(1.06)}
.badge{position:absolute;left:10px;top:10px;font-size:.75rem;background:rgba(0,0,0,.6);border:1px solid var(--line);padding:6px 8px;border-radius:10px}
.body{padding:16px}
.price{font-size:24px;font-weight:900;margin:6px 0 10px}
.actions{display:flex;gap:8px;margin-top:10px}

/* Overlay (nur Pläne) */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(6px);display:none;z-index:50}
.overlay.active{display:block}
.sheet{position:absolute;inset:auto 0 0 0;max-height:86vh;background:linear-gradient(180deg,rgba(13,13,14,.98),rgba(9,9,10,.98));border-top:1px solid var(--line);border-radius:20px 20px 0 0;box-shadow:0 -10px 40px rgba(0,0,0,.6);transform:translateY(12px);opacity:0;transition:.35s}
.overlay.active .sheet{transform:none;opacity:1}
.sheet .bar{height:5px;width:60px;background:#2a2a2c;border-radius:3px;margin:10px auto}
.sheet .head{padding:10px 18px}
.sheet .title{font-weight:900}
.glow{position:absolute;inset:auto -20% 50% -20%;height:320px;background:
  radial-gradient(600px 120px at 50% 0, rgba(212,175,55,.18), transparent 65%),
  radial-gradient(600px 140px at 50% 100%, rgba(193,18,31,.22), transparent 65%);pointer-events:none}

/* Mini Cart */
.cart{position:fixed;right:18px;bottom:18px;z-index:60;background:rgba(0,0,0,.7);border:1px solid var(--line);border-radius:16px;backdrop-filter:blur(6px);padding:12px 14px;display:flex;align-items:center;gap:10px}
.cart .count{background:var(--rage);border:1px solid #ff5656;color:#fff;border-radius:10px;padding:2px 8px;font-weight:800;font-size:.85rem}
.cart .sum{color:var(--gold);font-weight:800}
.cart .btn-primary{padding:8px 12px;border-radius:10px}

footer{padding:28px 0;text-align:center;color:var(--muted);border-top:1px solid var(--line);margin-top:40px}

/* Responsive */
@media (max-width: 960px){ .grid-3{grid-template-columns:1fr} .cart{left:18px;right:auto} }
</style>
</head>
<body>

<header>
  <div class="container head">
    <div class="brand">
      <div class="mark"><span>BR</span></div>
      <strong><span style="color:var(--rage)">BAVARIAN</span> <span style="color:var(--gold)">RAGE</span></strong>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="trainingsplaene.html" style="color:#fff">Trainingspläne</a>
      <a href="merch.html">Merch</a>
      <a href="discord.html">Discord</a>
      <a href="team.html">Team</a>
      <a href="galerie.html">Galerie</a>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>TRAININGSPLÄNE <span style="color:var(--gold)">ONLY</span></h1>
    <p>Klar strukturiert. Notion-ready. Technik → Volumen → Kraft → Peak. Klick auf <b>Pläne anzeigen</b> für den schnellen Overlay-Shop.</p>
    <button class="btn btn-primary" id="openShop">Pläne anzeigen</button>
  </div>
</section>

<!-- Overlay: nur PLÄNE -->
<div class="overlay" id="overlay">
  <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="shopTitle">
    <div class="bar"></div>
    <div class="container">
      <div class="head">
        <div class="title" id="shopTitle">BAVARIAN RAGE • Trainingspläne</div>
        <button class="btn btn-ghost" id="closeShop">Schließen</button>
      </div>

      <div class="grid grid-3" id="products">

        <!-- PLAN 1 -->
        <article class="card" data-id="plan-basics" data-name="Rage Basics (8W)" data-price="29">
          <div class="thumb">
            <img src="images/maxbench.png" alt="Rage Basics">
            <span class="badge">Plan</span>
          </div>
          <div class="body">
            <h3>Rage Basics (8W)</h3>
            <div class="price">29€</div>
            <p style="color:var(--muted)">3 Tage/Woche • Technik-Fokus • PDF + Notion</p>
            <div class="actions">
              <button class="btn btn-primary add">In den Cart</button>
              <button class="btn btn-ghost quick">Details</button>
            </div>
          </div>
        </article>

        <!-- PLAN 2 -->
        <article class="card" data-id="plan-power" data-name="Rage Power (12W)" data-price="49">
          <div class="thumb">
            <img src="images/maxdeadlift.png" alt="Rage Power">
            <span class="badge">Plan</span>
          </div>
          <div class="body">
            <h3>Rage Power (12W)</h3>
            <div class="price">49€</div>
            <p style="color:var(--muted)">4 Tage/Woche • Volumen → Kraft → Peak</p>
            <div class="actions">
              <button class="btn btn-primary add">In den Cart</button>
              <button class="btn btn-ghost quick">Details</button>
            </div>
          </div>
        </article>

        <!-- PLAN 3 -->
        <article class="card" data-id="plan-elite" data-name="Rage Elite (Custom)" data-price="99">
          <div class="thumb">
            <img src="images/maxsquat.png" alt="Rage Elite">
            <span class="badge">Coaching</span>
          </div>
          <div class="body">
            <h3>Rage Elite (Custom)</h3>
            <div class="price">ab 99€</div>
            <p style="color:var(--muted)">1:1 Anpassung • Wöchentliche Check-ins</p>
            <div class="actions">
              <button class="btn btn-primary add">Anfrage</button>
              <a class="btn btn-ghost" href="mailto:contact@bavarianrage.de?subject=Coaching%20Anfrage">Mail</a>
            </div>
          </div>
        </article>

      </div>
    </div>
    <div class="glow" aria-hidden="true"></div>
  </div>
</div>

<!-- Mini Cart -->
<div class="cart" id="miniCart">
  <span class="count" id="cartCount">0</span>
  <span class="sum" id="cartSum">0€</span>
  <button class="btn btn-primary" id="checkout">Checkout</button>
</div>

<footer>
  <div class="container">© 2025 BAVARIAN RAGE – Strength. Rage. Glory.</div>
</footer>

<script>
const $ = (s, el=document)=>el.querySelector(s);
const $$ = (s, el=document)=>[...el.querySelectorAll(s)];

// Overlay open/close
const overlay = $('#overlay');
$('#openShop').onclick = ()=> overlay.classList.add('active');
$('#closeShop').onclick = ()=> overlay.classList.remove('active');
overlay.addEventListener('click', e=>{ if(e.target===overlay) overlay.classList.remove('active'); });

// Cart (shared via localStorage)
const cart = JSON.parse(localStorage.getItem('br_cart')||'[]');
const save = ()=>localStorage.setItem('br_cart', JSON.stringify(cart));
const fmt = n => `${n.toFixed(2).replace('.',',')}€`;

function refreshCart(){
  const sum = cart.reduce((a,i)=>a+i.price*i.qty,0);
  $('#cartCount').textContent = cart.reduce((a,i)=>a+i.qty,0);
  $('#cartSum').textContent = fmt(sum);
}
refreshCart();

function addToCart(item){
  const exists = cart.find(i=>i.id===item.id && (i.variant||'')===(item.variant||''));
  if(exists) exists.qty += item.qty; else cart.push(item);
  save(); refreshCart();
}

// Nur PLÄNE klicken
$('#products')?.addEventListener('click', e=>{
  const card = e.target.closest('.card'); if(!card) return;

  if(e.target.classList.contains('add')){
    const id = card.dataset.id, name = card.dataset.name, price = parseFloat(card.dataset.price||'0');
    // Pläne haben keine Varianten -> variant = ''
    addToCart({id, name, price, variant:'', qty:1});
  }
  if(e.target.classList.contains('quick')){
    const text = {
      'plan-basics': '8 Wochen • 3x/Woche • Technik-Fokus • PDF + Notion',
      'plan-power':  '12 Wochen • 4x/Woche • Volumen → Kraft → Peak • Warm-ups inkl.',
